{"ast":null,"code":"var _jsxFileName = \"/Users/maxhorvath/Programming/alltherelevantmusic/client/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { AspectRatio, Box, Card, CardActions, CardContent, Typography, Button, Input, CircularProgress, Avatar, Modal, List, ListItem, ListItemButton, ListItemContent } from \"@mui/joy\";\nimport { Pause, PlayArrow, ExitToApp } from \"@mui/icons-material\";\nimport { clientId, redirectUri } from \"./constants\";\nimport { Toaster, toast } from \"react-hot-toast\";\nimport \"@fontsource/inter\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _userProfile$images, _userProfile$images$;\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [accessToken, setAccessToken] = useState(localStorage.getItem(\"accessToken\"));\n  const [similarSongs, setSimilarSongs] = useState([]);\n  const [playingTrackId, setPlayingTrackId] = useState(null);\n  const [userProfile, setUserProfile] = useState(null);\n  const [playlists, setPlaylists] = useState([]);\n  const [selectedSong, setSelectedSong] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [playlistQuery, setPlaylistQuery] = useState(\"\");\n  const audioRefs = useRef({});\n  const fetchUserProfile = useCallback(async token => {\n    try {\n      const response = await fetch(\"https://api.spotify.com/v1/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        if (response.status === 401) {\n          handleLogout();\n          toast.error(\"Session expired. Please log in again.\");\n        } else {\n          throw new Error(\"Failed to fetch user profile\");\n        }\n      } else {\n        const data = await response.json();\n        setUserProfile(data);\n        fetchUserPlaylists(token);\n      }\n    } catch (error) {\n      console.error(\"Error fetching user profile:\", error);\n      toast.error(\"Error fetching user profile\");\n    }\n  }, []);\n  useEffect(() => {\n    const hash = window.location.hash;\n    if (hash) {\n      const token = new URLSearchParams(hash.substring(1)).get(\"access_token\");\n      setAccessToken(token);\n      localStorage.setItem(\"accessToken\", token);\n      window.location.hash = \"\";\n      fetchUserProfile(token);\n      toast.success(\"Logged in successfully!\");\n    } else if (accessToken) {\n      fetchUserProfile(accessToken);\n    }\n  }, [accessToken, fetchUserProfile]);\n  const fetchUserPlaylists = async token => {\n    try {\n      const response = await fetch(\"https://api.spotify.com/v1/me/playlists?limit=50\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch user playlists\");\n      }\n      const data = await response.json();\n      setPlaylists(data.items);\n    } catch (error) {\n      console.error(\"Error fetching user playlists:\", error);\n      toast.error(\"Error fetching user playlists\");\n    }\n  };\n  const handleLogin = () => {\n    const scopes = \"user-read-private user-read-email playlist-modify-public playlist-modify-private playlist-read-private\";\n    const authUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&redirect_uri=${encodeURIComponent(redirectUri)}&scope=${encodeURIComponent(scopes)}`;\n    window.location.href = authUrl;\n  };\n  const handleLogout = () => {\n    setAccessToken(null);\n    setUserProfile(null);\n    localStorage.removeItem(\"accessToken\");\n    setPlaylists([]);\n    setResults([]);\n    setSimilarSongs([]);\n    toast.success(\"Logged out successfully!\");\n  };\n  const handleSearch = async () => {\n    if (!accessToken) {\n      toast.error(\"Please log in to Spotify first.\");\n      return;\n    }\n    setResults([]);\n    setLoading(true);\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(query)}&type=track&limit=10`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch data from Spotify\");\n      }\n      const data = await response.json();\n      const tracks = data.tracks.items.map(item => {\n        var _item$album$images$;\n        return {\n          id: item.id,\n          name: item.name,\n          artist: item.artists.map(artist => artist.name).join(\", \"),\n          image: (_item$album$images$ = item.album.images[0]) === null || _item$album$images$ === void 0 ? void 0 : _item$album$images$.url,\n          previewUrl: item.preview_url\n        };\n      });\n      setResults(tracks);\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFindSimilar = async trackId => {\n    if (!accessToken) {\n      toast.error(\"Please log in to Spotify first.\");\n      return;\n    }\n    setSimilarSongs([]);\n    setLoading(true);\n    try {\n      const trackResponse = await fetch(`https://api.spotify.com/v1/tracks/${trackId}`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      if (!trackResponse.ok) {\n        throw new Error(\"Failed to fetch track details\");\n      }\n      const trackData = await trackResponse.json();\n      const artistId = trackData.artists[0].id;\n      const artistResponse = await fetch(`https://api.spotify.com/v1/artists/${artistId}`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      if (!artistResponse.ok) {\n        throw new Error(\"Failed to fetch artist details\");\n      }\n      const artistData = await artistResponse.json();\n      const genres = artistData.genres.slice(0, 3).join(\",\");\n      const recommendationsResponse = await fetch(`https://api.spotify.com/v1/recommendations?seed_tracks=${trackId}&seed_genres=${genres}&seed_artist=${artistId}&limit=10`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      if (!recommendationsResponse.ok) {\n        throw new Error(\"Failed to fetch similar songs\");\n      }\n      const recommendationsData = await recommendationsResponse.json();\n      const similarTracks = recommendationsData.tracks.map(item => {\n        var _item$album$images$2;\n        return {\n          id: item.id,\n          name: item.name,\n          artist: item.artists.map(artist => artist.name).join(\", \"),\n          image: (_item$album$images$2 = item.album.images[0]) === null || _item$album$images$2 === void 0 ? void 0 : _item$album$images$2.url,\n          previewUrl: item.preview_url\n        };\n      });\n      setSimilarSongs(similarTracks);\n      toast.success(\"Similar songs found!\");\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePlayPause = trackId => {\n    if (playingTrackId === trackId) {\n      audioRefs.current[trackId].audioEl.current.pause();\n      setPlayingTrackId(null);\n    } else {\n      if (playingTrackId && audioRefs.current[playingTrackId]) {\n        audioRefs.current[playingTrackId].audioEl.current.pause();\n      }\n      audioRefs.current[trackId].audioEl.current.play();\n      setPlayingTrackId(trackId);\n    }\n  };\n  const handleAddToPlaylist = song => {\n    setSelectedSong(song);\n    setIsModalOpen(true);\n  };\n  const handleSelectPlaylist = async playlistId => {\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/playlists/${playlistId}/tracks`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          uris: [`spotify:track:${selectedSong.id}`]\n        })\n      });\n      if (!response.ok) {\n        if (response.status === 403) {\n          throw new Error(\"You don't have permission to add tracks to this playlist.\");\n        } else {\n          throw new Error(\"Failed to add song to playlist\");\n        }\n      }\n      setIsModalOpen(false);\n      setSelectedSong(null);\n      toast.success(\"Song added to playlist successfully\");\n    } catch (error) {\n      toast.error(error.message);\n    }\n  };\n  const handlePlaylistSearch = async query => {\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/me/playlists?limit=10`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to search playlists\");\n      }\n      const data = await response.json();\n      const filteredPlaylists = data.items.filter(playlist => playlist.name.toLowerCase().includes(query.toLowerCase()));\n      setPlaylists(filteredPlaylists);\n    } catch (error) {\n      toast.error(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-center\",\n      reverseOrder: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold p-4\",\n        children: \"AllTheRelevantMusic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center border p-2 rounded-md gap-3\",\n        children: userProfile ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            src: (_userProfile$images = userProfile.images) === null || _userProfile$images === void 0 ? void 0 : (_userProfile$images$ = _userProfile$images[0]) === null || _userProfile$images$ === void 0 ? void 0 : _userProfile$images$.url,\n            alt: userProfile.display_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            level: \"body-md\",\n            className: \"ml-2 mr-4\",\n            children: userProfile.display_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"primary\",\n            onClick: handleLogout,\n            startDecorator: /*#__PURE__*/_jsxDEV(ExitToApp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 25\n            }, this),\n            className: \"ml-2\",\n            children: \"Log out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: handleLogin,\n          children: \"Log in with Spotify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 4\n    }, this), accessToken && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-auto w-full justify-center gap-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Search for a song\",\n        size: \"lg\",\n        variant: \"outlined\",\n        value: query,\n        onChange: e => setQuery(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: handleSearch,\n        className: \"mt-2\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 5\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      justifyContent: \"center\",\n      overflow: \"visible\",\n      gap: \"10px\",\n      children: results.map(song => /*#__PURE__*/_jsxDEV(Card, {\n        size: \"lg\",\n        variant: \"soft\",\n        sx: {\n          width: 320\n        },\n        children: [/*#__PURE__*/_jsxDEV(AspectRatio, {\n          minHeight: \"120px\",\n          maxHeight: \"200px\",\n          position: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: song.image,\n            alt: song.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 8\n          }, this), song.previewUrl ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"absolute bottom-[10px] right-[10px] bg-white rounded-full w-10 h-10 text-black outline outline-1 outline-black\",\n            onClick: () => handlePlayPause(song.id),\n            children: playingTrackId === song.id ? /*#__PURE__*/_jsxDEV(Pause, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 40\n            }, this) : /*#__PURE__*/_jsxDEV(PlayArrow, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 9\n          }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg absolute bottom-[10px] right-[10px] bg-white font-bold py-1 px-2 rounded-md\",\n            children: \"No Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              level: \"h4\",\n              children: song.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              level: \"body-md\",\n              children: song.artist\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n            sx: {\n              display: \"flex\",\n              flexDirection: \"column\",\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"solid\",\n              color: \"primary\",\n              className: \"w-full\",\n              onClick: () => handleFindSimilar(song.id),\n              children: \"Find Similar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"solid\",\n              color: \"primary\",\n              className: \"w-full\",\n              onClick: () => handleAddToPlaylist(song),\n              children: \"Add to playlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 7\n        }, this), song.previewUrl && /*#__PURE__*/_jsxDEV(ReactAudioPlayer, {\n          ref: element => audioRefs.current[song.id] = element,\n          src: song.previewUrl,\n          style: {\n            display: \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 8\n        }, this)]\n      }, song.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 4\n    }, this), similarSongs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mt-4 mb-4 text-center\",\n        children: \"Similar Songs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"center\",\n        overflow: \"visible\",\n        gap: \"10px\",\n        children: similarSongs.map(song => /*#__PURE__*/_jsxDEV(Card, {\n          size: \"lg\",\n          variant: \"soft\",\n          sx: {\n            width: 320\n          },\n          children: [/*#__PURE__*/_jsxDEV(AspectRatio, {\n            minHeight: \"120px\",\n            maxHeight: \"200px\",\n            position: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: song.image,\n              alt: song.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 10\n            }, this), song.previewUrl ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"absolute bottom-[10px] right-[10px] bg-white rounded-full w-10 h-10 text-black outline outline-1 outline-black\",\n              onClick: () => handlePlayPause(song.id),\n              children: playingTrackId === song.id ? /*#__PURE__*/_jsxDEV(Pause, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 42\n              }, this) : /*#__PURE__*/_jsxDEV(PlayArrow, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 11\n            }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg absolute bottom-[10px] right-[10px] bg-white font-bold py-1 px-2 rounded-md\",\n              children: \"No Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                level: \"h4\",\n                children: song.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                level: \"body-md\",\n                children: song.artist\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"solid\",\n                color: \"primary\",\n                onClick: () => handleAddToPlaylist(song),\n                children: \"Add to playlist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 9\n          }, this), song.previewUrl && /*#__PURE__*/_jsxDEV(ReactAudioPlayer, {\n            ref: element => audioRefs.current[song.id] = element,\n            src: song.previewUrl,\n            style: {\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 10\n          }, this)]\n        }, song.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      sx: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        className: \"p-4 bg-white rounded-md w-80 max-h-96 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          level: \"h4\",\n          className: \"mb-4\",\n          children: \"Select a Playlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Search for a playlist\",\n          size: \"lg\",\n          variant: \"outlined\",\n          value: playlistQuery,\n          onChange: e => {\n            setPlaylistQuery(e.target.value);\n            handlePlaylistSearch(e.target.value);\n          },\n          className: \"mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          sx: {\n            flexGrow: 1,\n            overflowY: \"auto\"\n          },\n          children: playlists.map(playlist => /*#__PURE__*/_jsxDEV(ListItem, {\n            children: /*#__PURE__*/_jsxDEV(ListItemButton, {\n              onClick: () => handleSelectPlaylist(playlist.id),\n              children: /*#__PURE__*/_jsxDEV(ListItemContent, {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  level: \"title-md\",\n                  children: playlist.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 9\n            }, this)\n          }, playlist.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 3\n  }, this);\n}\n_s(App, \"7z9lzyvkrO3JVnT6prVMNLU87l8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","ReactAudioPlayer","AspectRatio","Box","Card","CardActions","CardContent","Typography","Button","Input","CircularProgress","Avatar","Modal","List","ListItem","ListItemButton","ListItemContent","Pause","PlayArrow","ExitToApp","clientId","redirectUri","Toaster","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_userProfile$images","_userProfile$images$","query","setQuery","results","setResults","loading","setLoading","accessToken","setAccessToken","localStorage","getItem","similarSongs","setSimilarSongs","playingTrackId","setPlayingTrackId","userProfile","setUserProfile","playlists","setPlaylists","selectedSong","setSelectedSong","isModalOpen","setIsModalOpen","playlistQuery","setPlaylistQuery","audioRefs","fetchUserProfile","token","response","fetch","headers","Authorization","ok","status","handleLogout","error","Error","data","json","fetchUserPlaylists","console","hash","window","location","URLSearchParams","substring","get","setItem","success","items","handleLogin","scopes","authUrl","encodeURIComponent","href","removeItem","handleSearch","tracks","map","item","_item$album$images$","id","name","artist","artists","join","image","album","images","url","previewUrl","preview_url","message","handleFindSimilar","trackId","trackResponse","trackData","artistId","artistResponse","artistData","genres","slice","recommendationsResponse","recommendationsData","similarTracks","_item$album$images$2","handlePlayPause","current","audioEl","pause","play","handleAddToPlaylist","song","handleSelectPlaylist","playlistId","method","body","JSON","stringify","uris","handlePlaylistSearch","filteredPlaylists","filter","playlist","toLowerCase","includes","className","children","position","reverseOrder","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","display_name","level","variant","color","onClick","startDecorator","placeholder","size","value","onChange","e","target","display","flexWrap","justifyContent","overflow","gap","sx","width","minHeight","maxHeight","flexDirection","ref","element","style","length","open","onClose","alignItems","flexGrow","overflowY","_c","$RefreshReg$"],"sources":["/Users/maxhorvath/Programming/alltherelevantmusic/client/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport {\n\tAspectRatio,\n\tBox,\n\tCard,\n\tCardActions,\n\tCardContent,\n\tTypography,\n\tButton,\n\tInput,\n\tCircularProgress,\n\tAvatar,\n\tModal,\n\tList,\n\tListItem,\n\tListItemButton,\n\tListItemContent,\n} from \"@mui/joy\";\nimport { Pause, PlayArrow, ExitToApp } from \"@mui/icons-material\";\nimport { clientId, redirectUri } from \"./constants\";\nimport { Toaster, toast } from \"react-hot-toast\";\nimport \"@fontsource/inter\";\n\nfunction App() {\n\tconst [query, setQuery] = useState(\"\");\n\tconst [results, setResults] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [accessToken, setAccessToken] = useState(localStorage.getItem(\"accessToken\"));\n\tconst [similarSongs, setSimilarSongs] = useState([]);\n\tconst [playingTrackId, setPlayingTrackId] = useState(null);\n\tconst [userProfile, setUserProfile] = useState(null);\n\tconst [playlists, setPlaylists] = useState([]);\n\tconst [selectedSong, setSelectedSong] = useState(null);\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\n\tconst [playlistQuery, setPlaylistQuery] = useState(\"\");\n\n\tconst audioRefs = useRef({});\n\n\tconst fetchUserProfile = useCallback(async (token) => {\n\t\ttry {\n\t\t\tconst response = await fetch(\"https://api.spotify.com/v1/me\", {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t},\n\t\t\t});\n\t\t\tif (!response.ok) {\n\t\t\t\tif (response.status === 401) {\n\t\t\t\t\thandleLogout();\n\t\t\t\t\ttoast.error(\"Session expired. Please log in again.\");\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"Failed to fetch user profile\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetUserProfile(data);\n\t\t\t\tfetchUserPlaylists(token);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error fetching user profile:\", error);\n\t\t\ttoast.error(\"Error fetching user profile\");\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst hash = window.location.hash;\n\t\tif (hash) {\n\t\t\tconst token = new URLSearchParams(hash.substring(1)).get(\"access_token\");\n\t\t\tsetAccessToken(token);\n\t\t\tlocalStorage.setItem(\"accessToken\", token);\n\t\t\twindow.location.hash = \"\";\n\t\t\tfetchUserProfile(token);\n\t\t\ttoast.success(\"Logged in successfully!\");\n\t\t} else if (accessToken) {\n\t\t\tfetchUserProfile(accessToken);\n\t\t}\n\t}, [accessToken, fetchUserProfile]);\n\n\tconst fetchUserPlaylists = async (token) => {\n\t\ttry {\n\t\t\tconst response = await fetch(\"https://api.spotify.com/v1/me/playlists?limit=50\", {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t},\n\t\t\t});\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Failed to fetch user playlists\");\n\t\t\t}\n\t\t\tconst data = await response.json();\n\t\t\tsetPlaylists(data.items);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error fetching user playlists:\", error);\n\t\t\ttoast.error(\"Error fetching user playlists\");\n\t\t}\n\t};\n\n\tconst handleLogin = () => {\n\t\tconst scopes =\n\t\t\t\"user-read-private user-read-email playlist-modify-public playlist-modify-private playlist-read-private\";\n\n\t\tconst authUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&redirect_uri=${encodeURIComponent(\n\t\t\tredirectUri\n\t\t)}&scope=${encodeURIComponent(scopes)}`;\n\n\t\twindow.location.href = authUrl;\n\t};\n\n\tconst handleLogout = () => {\n\t\tsetAccessToken(null);\n\t\tsetUserProfile(null);\n\t\tlocalStorage.removeItem(\"accessToken\");\n\t\tsetPlaylists([]);\n\t\tsetResults([]);\n\t\tsetSimilarSongs([]);\n\t\ttoast.success(\"Logged out successfully!\");\n\t};\n\n\tconst handleSearch = async () => {\n\t\tif (!accessToken) {\n\t\t\ttoast.error(\"Please log in to Spotify first.\");\n\t\t\treturn;\n\t\t}\n\n\t\tsetResults([]);\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst response = await fetch(\n\t\t\t\t`https://api.spotify.com/v1/search?q=${encodeURIComponent(query)}&type=track&limit=10`,\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Failed to fetch data from Spotify\");\n\t\t\t}\n\n\t\t\tconst data = await response.json();\n\t\t\tconst tracks = data.tracks.items.map((item) => ({\n\t\t\t\tid: item.id,\n\t\t\t\tname: item.name,\n\t\t\t\tartist: item.artists.map((artist) => artist.name).join(\", \"),\n\t\t\t\timage: item.album.images[0]?.url,\n\t\t\t\tpreviewUrl: item.preview_url,\n\t\t\t}));\n\n\t\t\tsetResults(tracks);\n\t\t} catch (error) {\n\t\t\ttoast.error(error.message);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleFindSimilar = async (trackId) => {\n\t\tif (!accessToken) {\n\t\t\ttoast.error(\"Please log in to Spotify first.\");\n\t\t\treturn;\n\t\t}\n\n\t\tsetSimilarSongs([]);\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst trackResponse = await fetch(`https://api.spotify.com/v1/tracks/${trackId}`, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (!trackResponse.ok) {\n\t\t\t\tthrow new Error(\"Failed to fetch track details\");\n\t\t\t}\n\n\t\t\tconst trackData = await trackResponse.json();\n\t\t\tconst artistId = trackData.artists[0].id;\n\n\t\t\tconst artistResponse = await fetch(`https://api.spotify.com/v1/artists/${artistId}`, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (!artistResponse.ok) {\n\t\t\t\tthrow new Error(\"Failed to fetch artist details\");\n\t\t\t}\n\n\t\t\tconst artistData = await artistResponse.json();\n\t\t\tconst genres = artistData.genres.slice(0, 3).join(\",\");\n\n\t\t\tconst recommendationsResponse = await fetch(\n\t\t\t\t`https://api.spotify.com/v1/recommendations?seed_tracks=${trackId}&seed_genres=${genres}&seed_artist=${artistId}&limit=10`,\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!recommendationsResponse.ok) {\n\t\t\t\tthrow new Error(\"Failed to fetch similar songs\");\n\t\t\t}\n\n\t\t\tconst recommendationsData = await recommendationsResponse.json();\n\t\t\tconst similarTracks = recommendationsData.tracks.map((item) => ({\n\t\t\t\tid: item.id,\n\t\t\t\tname: item.name,\n\t\t\t\tartist: item.artists.map((artist) => artist.name).join(\", \"),\n\t\t\t\timage: item.album.images[0]?.url,\n\t\t\t\tpreviewUrl: item.preview_url,\n\t\t\t}));\n\n\t\t\tsetSimilarSongs(similarTracks);\n\t\t\ttoast.success(\"Similar songs found!\");\n\t\t} catch (error) {\n\t\t\ttoast.error(error.message);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handlePlayPause = (trackId) => {\n\t\tif (playingTrackId === trackId) {\n\t\t\taudioRefs.current[trackId].audioEl.current.pause();\n\t\t\tsetPlayingTrackId(null);\n\t\t} else {\n\t\t\tif (playingTrackId && audioRefs.current[playingTrackId]) {\n\t\t\t\taudioRefs.current[playingTrackId].audioEl.current.pause();\n\t\t\t}\n\t\t\taudioRefs.current[trackId].audioEl.current.play();\n\t\t\tsetPlayingTrackId(trackId);\n\t\t}\n\t};\n\n\tconst handleAddToPlaylist = (song) => {\n\t\tsetSelectedSong(song);\n\t\tsetIsModalOpen(true);\n\t};\n\n\tconst handleSelectPlaylist = async (playlistId) => {\n\t\ttry {\n\t\t\tconst response = await fetch(`https://api.spotify.com/v1/playlists/${playlistId}/tracks`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\turis: [`spotify:track:${selectedSong.id}`],\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tif (!response.ok) {\n\t\t\t\tif (response.status === 403) {\n\t\t\t\t\tthrow new Error(\"You don't have permission to add tracks to this playlist.\");\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"Failed to add song to playlist\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetIsModalOpen(false);\n\t\t\tsetSelectedSong(null);\n\t\t\ttoast.success(\"Song added to playlist successfully\");\n\t\t} catch (error) {\n\t\t\ttoast.error(error.message);\n\t\t}\n\t};\n\n\tconst handlePlaylistSearch = async (query) => {\n\t\ttry {\n\t\t\tconst response = await fetch(`https://api.spotify.com/v1/me/playlists?limit=10`, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Failed to search playlists\");\n\t\t\t}\n\n\t\t\tconst data = await response.json();\n\t\t\tconst filteredPlaylists = data.items.filter((playlist) =>\n\t\t\t\tplaylist.name.toLowerCase().includes(query.toLowerCase())\n\t\t\t);\n\t\t\tsetPlaylists(filteredPlaylists);\n\t\t} catch (error) {\n\t\t\ttoast.error(error.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"App p-4\">\n\t\t\t<Toaster position=\"top-center\" reverseOrder={false} />\n\t\t\t<div className=\"flex justify-between items-center mb-4\">\n\t\t\t\t<h1 className=\"text-2xl font-bold p-4\">AllTheRelevantMusic</h1>\n\t\t\t\t<div className=\"flex items-center border p-2 rounded-md gap-3\">\n\t\t\t\t\t{userProfile ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Avatar src={userProfile.images?.[0]?.url} alt={userProfile.display_name} />\n\t\t\t\t\t\t\t<Typography level=\"body-md\" className=\"ml-2 mr-4\">\n\t\t\t\t\t\t\t\t{userProfile.display_name}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleLogout}\n\t\t\t\t\t\t\t\tstartDecorator={<ExitToApp />}\n\t\t\t\t\t\t\t\tclassName=\"ml-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLog out\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button variant=\"outlined\" color=\"primary\" onClick={handleLogin}>\n\t\t\t\t\t\t\tLog in with Spotify\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{accessToken && (\n\t\t\t\t<div className=\"flex flex-auto w-full justify-center gap-2 mb-4\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tplaceholder=\"Search for a song\"\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button variant=\"outlined\" color=\"primary\" onClick={handleSearch} className=\"mt-2\">\n\t\t\t\t\t\tSearch\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{loading && (\n\t\t\t\t<div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n\t\t\t\t\t<CircularProgress size=\"lg\" />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"center\" overflow=\"visible\" gap=\"10px\">\n\t\t\t\t{results.map((song) => (\n\t\t\t\t\t<Card size=\"lg\" variant=\"soft\" key={song.id} sx={{ width: 320 }}>\n\t\t\t\t\t\t<AspectRatio minHeight=\"120px\" maxHeight=\"200px\" position=\"relative\">\n\t\t\t\t\t\t\t<img src={song.image} alt={song.name} />\n\t\t\t\t\t\t\t{song.previewUrl ? (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"absolute bottom-[10px] right-[10px] bg-white rounded-full w-10 h-10 text-black outline outline-1 outline-black\"\n\t\t\t\t\t\t\t\t\tonClick={() => handlePlayPause(song.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{playingTrackId === song.id ? <Pause /> : <PlayArrow />}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<h3 className=\"text-lg absolute bottom-[10px] right-[10px] bg-white font-bold py-1 px-2 rounded-md\">\n\t\t\t\t\t\t\t\t\tNo Preview\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</AspectRatio>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography level=\"h4\">{song.name}</Typography>\n\t\t\t\t\t\t\t\t<Typography level=\"body-md\">{song.artist}</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<CardActions sx={{ display: \"flex\", flexDirection: \"column\", width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<Button variant=\"solid\" color=\"primary\" className=\"w-full\" onClick={() => handleFindSimilar(song.id)}>\n\t\t\t\t\t\t\t\t\tFind Similar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button variant=\"solid\" color=\"primary\" className=\"w-full\" onClick={() => handleAddToPlaylist(song)}>\n\t\t\t\t\t\t\t\t\tAdd to playlist\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t{song.previewUrl && (\n\t\t\t\t\t\t\t<ReactAudioPlayer\n\t\t\t\t\t\t\t\tref={(element) => (audioRefs.current[song.id] = element)}\n\t\t\t\t\t\t\t\tsrc={song.previewUrl}\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</Box>\n\t\t\t{similarSongs.length > 0 && (\n\t\t\t\t<div>\n\t\t\t\t\t<h2 className=\"text-xl font-bold mt-4 mb-4 text-center\">Similar Songs</h2>\n\t\t\t\t\t<Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"center\" overflow=\"visible\" gap=\"10px\">\n\t\t\t\t\t\t{similarSongs.map((song) => (\n\t\t\t\t\t\t\t<Card size=\"lg\" variant=\"soft\" key={song.id} sx={{ width: 320 }}>\n\t\t\t\t\t\t\t\t<AspectRatio minHeight=\"120px\" maxHeight=\"200px\" position=\"relative\">\n\t\t\t\t\t\t\t\t\t<img src={song.image} alt={song.name} />\n\t\t\t\t\t\t\t\t\t{song.previewUrl ? (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute bottom-[10px] right-[10px] bg-white rounded-full w-10 h-10 text-black outline outline-1 outline-black\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handlePlayPause(song.id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{playingTrackId === song.id ? <Pause /> : <PlayArrow />}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg absolute bottom-[10px] right-[10px] bg-white font-bold py-1 px-2 rounded-md\">\n\t\t\t\t\t\t\t\t\t\t\tNo Preview\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</AspectRatio>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Typography level=\"h4\">{song.name}</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography level=\"body-md\">{song.artist}</Typography>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"solid\" color=\"primary\" onClick={() => handleAddToPlaylist(song)}>\n\t\t\t\t\t\t\t\t\t\t\tAdd to playlist\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t{song.previewUrl && (\n\t\t\t\t\t\t\t\t\t<ReactAudioPlayer\n\t\t\t\t\t\t\t\t\t\tref={(element) => (audioRefs.current[song.id] = element)}\n\t\t\t\t\t\t\t\t\t\tsrc={song.previewUrl}\n\t\t\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<Modal\n\t\t\t\topen={isModalOpen}\n\t\t\t\tonClose={() => setIsModalOpen(false)}\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box className=\"p-4 bg-white rounded-md w-80 max-h-96 flex flex-col\">\n\t\t\t\t\t<Typography level=\"h4\" className=\"mb-4\">\n\t\t\t\t\t\tSelect a Playlist\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tplaceholder=\"Search for a playlist\"\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tvalue={playlistQuery}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetPlaylistQuery(e.target.value);\n\t\t\t\t\t\t\thandlePlaylistSearch(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t/>\n\t\t\t\t\t<List sx={{ flexGrow: 1, overflowY: \"auto\" }}>\n\t\t\t\t\t\t{playlists.map((playlist) => (\n\t\t\t\t\t\t\t<ListItem key={playlist.id}>\n\t\t\t\t\t\t\t\t<ListItemButton onClick={() => handleSelectPlaylist(playlist.id)}>\n\t\t\t\t\t\t\t\t\t<ListItemContent>\n\t\t\t\t\t\t\t\t\t\t<Typography level=\"title-md\">{playlist.name}</Typography>\n\t\t\t\t\t\t\t\t\t</ListItemContent>\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t</Modal>\n\t\t</div>\n\t);\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}